CREATE TABLE Produkt (
	id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	titel TEXT NOT NULL,
	nettoPreis REAL NOT NULL
	CONSTRAINT p_1 check ( nettoPreis > 0 )
);

CREATE TABLE Hardware (
	id INTEGER NOT NULL,
	leistung INTEGER NOT NULL,
	erscheinungsDatum DATE NOT NULL,
	CONSTRAINT fk_Hardware1 FOREIGN KEY (id) REFERENCES Produkt(id)
);

CREATE TABLE Software (
	id INTEGER NOT NULL,
	spielerAnzahl NOT NULL,
	genre INTEGER NOT NULL,
	CONSTRAINT fk_Software1 FOREIGN KEY (genre) REFERENCES Genre(id),
	CONSTRAINT fk_Software1 FOREIGN KEY (id) REFERENCES Produkt(id),
	CONSTRAINT check_spieler_anzahl CHECK ( spieleranzahl > 0 AND spieleranzahl < 9 )
);

CREATE TABLE Produktbild (
	id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	bildpfad TEXT NOT NULL,
	produktId INTEGER NOT NULL,
	CONSTRAINT fk_Produktbild1 FOREIGN KEY (produktId) REFERENCES Produkt(id)
);

CREATE TABLE Genre (
	id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	bezeichnung TEXT NOT NULL
);

CREATE TABLE Sale (
	id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	produktId INTEGER NOT NULL,
	saleProzent REAL NOT NULL,
	CONSTRAINT fk_Sales1 FOREIGN KEY (produktId) REFERENCES Produkt(id)
	CONSTRAINT sales_inProzent check ( saleProzent > 0 and saleProzent < 100 )

);

CREATE TABLE CountdownArtikel (
	id INTEGER NOT NULL,
	countdownZeit INTEGER NOT NULL DEFAULT 10000,
	extraProzent REAL NOT NULL,
	CONSTRAINT fk_CountdownArtikel1 FOREIGN KEY (id) REFERENCES Sale(id)
	CONSTRAINT extra_inProzent check ( extraProzent > 0 and extraProzent < 100 )
);

CREATE TABLE Warenkorb (
	produktId INTEGER NOT NULL,
	CONSTRAINT wk_1 FOREIGN KEY (produktId) REFERENCES Produkt(id)
);